<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EQUITY | Federal Rights Intelligence</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --accent: #111827; --blue: #2563eb; --border: #e5e7eb; --bg: #ffffff; }
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg); color: var(--accent); display: flex; height: 100vh; overflow: hidden; }
        
        /* Navigation */
        #nav { width: 280px; border-right: 1px solid var(--border); padding: 40px 24px; display: flex; flex-direction: column; }
        .logo { font-weight: 800; font-size: 22px; letter-spacing: -1.5px; margin-bottom: 48px; color: var(--accent); cursor: pointer; }
        .nav-item { font-size: 14px; font-weight: 500; color: #6b7280; text-decoration: none; margin-bottom: 24px; cursor: pointer; transition: 0.2s; border: none; background: none; text-align: left; padding: 0; }
        .nav-item:hover, .nav-item.active { color: var(--blue); }

        /* Content Area */
        main { flex: 1; overflow-y: auto; padding: 80px 100px; display: flex; justify-content: center; }
        .page { display: none; width: 100%; max-width: 720px; animation: fadeIn 0.3s ease; }
        .page.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        h1 { font-size: 32px; font-weight: 700; letter-spacing: -1px; margin-bottom: 8px; }
        .subtitle { color: #6b7280; margin-bottom: 40px; }

        /* Tools */
        textarea { 
            width: 100%; height: 150px; border: 1px solid var(--border); border-radius: 12px;
            padding: 20px; font-size: 16px; font-family: inherit; resize: none; box-sizing: border-box;
            background: #fafafa; transition: 0.2s;
        }
        textarea:focus { outline: none; border-color: var(--blue); background: #fff; box-shadow: 0 0 0 4px rgba(37,99,235,0.1); }
        .btn { background: var(--accent); color: #fff; border: none; padding: 14px 28px; border-radius: 8px; font-weight: 600; cursor: pointer; margin-top: 20px; }

        /* Analysis Box */
        #output { display: none; margin-top: 50px; border-top: 1px solid var(--border); padding-top: 40px; }
        .label { font-size: 11px; font-weight: 700; text-transform: uppercase; color: var(--blue); letter-spacing: 1px; margin-bottom: 12px; }
        .box { background: #f9fafb; padding: 24px; border-radius: 12px; line-height: 1.6; margin-bottom: 30px; border-left: 4px solid var(--blue); }
        .pill-container { display: flex; gap: 10px; flex-wrap: wrap; }
        .pill { background: #fff; border: 1px solid var(--border); padding: 8px 16px; border-radius: 20px; font-size: 13px; font-weight: 500; cursor: pointer; }
    </style>
</head>
<body>

<div id="nav">
    <div class="logo" onclick="showPage('intake')">EQUITY.</div>
    <button class="nav-item active" onclick="showPage('intake', this)">Intake Portal</button>
    <button class="nav-item" onclick="showPage('directory', this)">Rights Directory</button>
    <button class="nav-item" onclick="showPage('vault', this)">Legal Vault</button>
</div>

<main>
    <div id="intake" class="page active">
        <h1>Rights Analysis</h1>
        <p class="subtitle">Personalized US Federal & Immigration encounter intelligence.</p>
        <textarea id="userInput" placeholder="Describe the incident..."></textarea>
        <button class="btn" onclick="runEQUITY()">Analyze Situation</button>

        <div id="output">
            <div class="label" id="type">Classification</div>
            <div id="guidance" class="box"></div>
            <div class="label">Refine Analysis</div>
            <div class="pill-container" id="pills"></div>
        </div>
    </div>

    <div id="directory" class="page">
        <h1>Rights Directory</h1>
        <p class="subtitle">Quick-access US Constitutional protections.</p>
        <div class="box">
            <b>4th Amendment</b><p>Protection against unreasonable search and seizure.</p>
            <hr style="border:0; border-top:1px solid #eee; margin:15px 0;">
            <b>5th Amendment</b><p>The right to remain silent and protection against self-incrimination.</p>
        </div>
    </div>

    <div id="vault" class="page">
        <h1>Legal Vault</h1>
        <p class="subtitle">Your saved incident reports and verified documents.</p>
        <p style="color:#666;">No reports saved in this session.</p>
    </div>
</main>

<script>
    // Navigation Logic
    function showPage(pageId, btn) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        if(btn) btn.classList.add('active');
    }

    const US_LAW = {
        ice: {
            title: "ICE / CBP Encounter",
            main: "Protection: 4th & 5th Amendments. Do not open doors for agents without a Judicial Warrant signed by a judge.",
            follows: {
                "How to spot a fake warrant?": "Judicial warrants are signed by a judge/court. Administrative warrants (Form I-200) only authorize arrest, not entry into a private home.",
                "Am I free to go?": "Ask this immediately. If they say yes, walk away. You do not have to provide ID unless lawfully detained."
            }
        },
        police: {
            title: "Police / 4th Amendment",
            main: "You are protected against 'unreasonable searches.' Unless police have 'Probable Cause', you do not have to consent to a search.",
            follows: {
                "Do I have to give my name?": "Varies by state. In 'Stop and Identify' states, you must provide name if detained. Otherwise, you may remain silent.",
                "I do not consent": "Clearly state 'I do not consent to this search' to preserve your legal rights for later challenge."
            }
        }
    };

    function runEQUITY() {
        const input = document.getElementById('userInput').value.toLowerCase();
        const out = document.getElementById('output');
        const pills = document.getElementById('pills');
        let data = input.includes('ice') || input.includes('immig') ? US_LAW.ice : 
                   input.includes('police') || input.includes('search') ? US_LAW.police : null;

        if (data) {
            out.style.display = 'block';
            document.getElementById('type').innerText = data.title;
            document.getElementById('guidance').innerText = data.main;
            pills.innerHTML = '';
            Object.keys(data.follows).forEach(q => {
                const p = document.createElement('div');
                p.className = 'pill';
                p.innerText = q;
                p.onclick = () => { document.getElementById('guidance').innerHTML = `<b>${q}</b><br><br>${data.follows[q]}`; };
                pills.appendChild(p);
            });
        }
    }
</script>
</body>
</html>
